<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ligningstræner</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="card">

 <!-- header -->
 <div class="topRow">
 <div class="leftHead">
 <h1>Ligningstræner</h1>
 <p class="desc" id="modeDesc">
Guidet mode:
Vi følger altid de samme3 trin.
1. Fjern x fra højre side.
2. Fjern + tallet fra venstre side.
3. Gør x alene.
 </p>
 </div>

 <div class="pickerGroupWrap">
 <div class="pickerRow">
 <label for="themeSelect">Tema</label>
 <select id="themeSelect">
 <option value="light">Lyst (papir)</option>
 <option value="dark">Mørkt</option>
 </select>
 </div>

 <div class="pickerRow">
 <label for="modeSelect">Mode</label>
 <select id="modeSelect">
 <option value="guided">Guidet</option>
 <option value="expert">Ekspert</option>
 </select>
 </div>
 </div>
 </div>

 <!-- kontrolbar -->
 <div id="controlBar">

 <div id="leftControls">
 <button id="newProblemBtn">Ny ligning</button>

 <div id="scoreBadge">
 Løst korrekt: <span id="scoreCount">0</span>
 </div>
 </div>

 <div id="rightControls">

 <div id="nameWrap">
 <label for="studentName">Navn</label>
 <input id="studentName" placeholder="Skriv dit navn" />
 </div>

 <div id="codeArea">
 <button id="makeCodeBtn">Løsningskode</button>
 <button id="tutorialBtn" class="btnSecondary" title="Hjælp / gennemgang">Hjælp</button>
 </div>

 </div>
 </div>

 <!-- fælles visning af aktuel ligning -->
 <div style="margin-bottom:1rem">
 <div class="miniEqWrapLabel">Ligning der aktuelt skal løses</div>
 <div id="eqBox" class="miniEqBoxBase boxTask">?</div>
 </div>

 <!-- =========== GUIDET MODE =========== -->
 <section id="guidedSection">

 <!-- TRIN1 -->
 <section id="step1">
 <div class="sectionHead">
 <h2>Trin1: Isoler x-led til venstre side</h2>
 <div class="status" id="badge1">I gang</div>
 </div>
 <div class="hint">
Skriv fx -2x for at trække2x fra på begge sider
eller +2x for at lægge2x til på begge sider.
Målet er at højre side ikke har x længere.
 </div>

 <div class="answerRow">
 <label for="inputStep1">Hvad gør du på begge sider?</label>
 <input id="inputStep1" placeholder="-2x" />
 <button id="btnStep1" class="modifierButton">Udfør trin1</button>
 </div>

 <pre class="work hidden" id="work1"></pre>
 <div class="explain hidden" id="exp1"></div>

 <div class="miniEqWrapLabel hidden" id="nextEq1Label">
 Her er din nye ligning som du skal bruge i næste trin:
 </div>
 <div class="miniEqBoxBase boxTask hidden" id="nextEq1"></div>
 </section>

 <!-- TRIN2 -->
 <section id="step2" class="hidden">
 <div class="sectionHead">
 <h2>Trin2: Isoler tal-led til højre side</h2>
 <div class="status" id="badge2">Låst</div>
 </div>
 <div class="hint">
Nu skal venstre side kun være et udtryk i x, fx "k·x" (dvs. uden et tal-led).
Skriv fx -5 for at trække5 fra på begge sider.
 </div>

 <div class="answerRow">
 <label for="inputStep2">Hvad gør du på begge sider?</label>
 <input id="inputStep2" placeholder="-5" disabled />
 <button id="btnStep2" disabled>Udfør trin2</button>
 </div>

 <pre class="work hidden" id="work2"></pre>
 <div class="explain hidden" id="exp2"></div>

 <div class="miniEqWrapLabel hidden" id="nextEq2Label">
 Her er din nye ligning som du skal bruge i næste trin:
 </div>
 <div class="miniEqBoxBase boxTask hidden" id="nextEq2"></div>
 </section>

 <!-- TRIN3 -->
 <section id="step3" class="hidden">
 <div class="sectionHead">
 <h2>Trin3: Gør x alene</h2>
 <div class="status" id="badge3">Låst</div>
 </div>
 <div class="hint">
Hvis du har fx4x =8 kan du enten dividere med4
(/4 eller :4)
eller gange med0.25
(*0.25).
 </div>

 <div class="answerRow">
 <label for="inputStep3">Hvad gør du på begge sider?</label>
 <input id="inputStep3" placeholder="/4 eller *0.25" disabled />
 <button id="btnStep3" disabled>Udfør trin3</button>
 </div>

 <pre class="work hidden" id="work3"></pre>
 <div class="explain hidden" id="exp3"></div>

 <div class="miniEqWrapLabel hidden" id="nextEq3Label">
 Her er din løsning:
 </div>
 <div class="miniEqBoxBase boxTask hidden" id="nextEq3"></div>

 <div id="resultBox"></div>

 <div class="answerRow hidden" id="checkRow" style="margin-top:1rem">
 <button id="checkBtn" disabled>Check løsning</button>
 <button id="newProblemAfterCheckBtn">Ny ligning</button>
 </div>

 <div id="checkWrap" class="hidden">
 <pre class="work" id="checkWork"></pre>
 <div class="explain" id="checkExplain"></div>
 </div>
 </section>
 </section>

 <!-- =========== EKSPERT MODE =========== -->
 <section id="expertSection" class="hidden">
 <div class="sectionHead">
 <h2>Ekspert-mode</h2>
 <div class="status" id="expertBadge">I gang</div>
 </div>

 <div class="hint">
Du skal selv lave lovlige skridt på begge sider indtil der står x = tal.
Eksempler:
-3x (læg -3x til på begge sider)
+5 (læg5 til på begge sider)
 /4 (divider begge sider med4)
*0.25 (gang begge sider med0.25)

Hvert skridt bliver forklaret og der laves en ny boks med den nye ligning.
 </div>

 <!-- Her bygger vi dynamisk alle elevens trin -->
 <div id="expertStepsWrap"></div>
 </section>

</div>

<!-- Løsningskode modal -->
<div id="solutionModal" class="modalOverlay hidden" aria-hidden="true" role="dialog" aria-label="Løsningskode">
 <div class="modalCard">
 <h3 style="margin-top:0">Løsningskode</h3>
 <div class="hint" style="margin-bottom:.5rem">Indtast dit navn for at hente din kode.</div>

 <div class="answerRow">
 <label for="modalName">Navn</label>
 <input id="modalName" placeholder="Skriv dit navn" />
 </div>

 <div class="answerRow">
 <button id="modalGenerateBtn">Hent kode</button>
 <button id="modalCloseBtn" class="btnSecondary">Luk</button>
 </div>

 <pre id="modalOutput" class="work" style="margin-top:.5rem"></pre>
 </div>
</div>

<!-- Tooltip walkthrough overlay -->
<div id="tourOverlay" class="tourOverlay hidden" aria-hidden="true">
 <div id="tourBox" class="tourBox">
 <div id="tourContent" class="tourContent"></div>
 <div class="tourButtons">
 <button id="tourPrevBtn" class="btnSecondary">Forrige</button>
 <span class="spacer"></span>
 <button id="tourCloseBtn" class="btnSecondary">Luk</button>
 <button id="tourNextBtn">Næste</button>
 </div>
 </div>
</div>

<script src="app.js" defer charset="utf-8"></script>
</body>
</html>

